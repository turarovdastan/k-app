<template>
  <div class="admin-layout">
    <nav class="side-bar">
      <div @click="$router.push('/')" class="logo">
        <img src="@/assets/icons/admin/logo.svg" alt="">
      </div>
      <nav class="nav-links">
        <nuxt-link to='/admin/tickets/missed' class="link" :class="linkIsActive && 'active-link'" active-class="active-link">
          <svg width="32" height="38" viewBox="0 0 32 38" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0166 4.15128H12.4333C10.6092 4.15128 9.3404 4.15256 8.35318 4.23322C7.38522 4.31231 6.83418 4.4594 6.41925 4.67082C5.52234 5.12781 4.79313 5.85702 4.33614 6.75393C4.12472 7.16885 3.97763 7.7199 3.89854 8.68786C3.81789 9.67507 3.8166 10.9439 3.8166 12.7679V25.2346C3.8166 27.0587 3.81789 28.3275 3.89854 29.3147C3.97763 30.2827 4.12472 30.8337 4.33614 31.2486C4.79313 32.1455 5.52234 32.8747 6.41925 33.3317C6.83418 33.5432 7.38522 33.6903 8.35318 33.7693C9.3404 33.85 10.6092 33.8513 12.4333 33.8513H19.3999C21.224 33.8513 22.4928 33.85 23.48 33.7693C24.448 33.6903 24.999 33.5432 25.414 33.3317C26.3109 32.8747 27.0401 32.1455 27.4971 31.2486C27.7085 30.8337 27.8556 30.2827 27.9347 29.3147C28.0153 28.3275 28.0166 27.0587 28.0166 25.2346V15.1513H24.5333L24.4684 15.1513C23.4969 15.1513 22.6698 15.1513 21.9906 15.0958C21.2772 15.0376 20.5831 14.9099 19.9196 14.5718C18.9192 14.0621 18.1058 13.2487 17.5961 12.2483C17.258 11.5848 17.1303 10.8907 17.072 10.1772C17.0166 9.49811 17.0166 8.67095 17.0166 7.69952L17.0166 7.63461V4.15128ZM26.5998 11.8513L20.3166 5.56807V7.63461C20.3166 8.6886 20.3179 9.37986 20.3611 9.90851C20.4027 10.4179 20.4749 10.6294 20.5364 10.7502C20.7298 11.1296 21.0383 11.4381 21.4177 11.6315C21.5385 11.693 21.75 11.7652 22.2594 11.8068C22.788 11.85 23.4793 11.8513 24.5333 11.8513H26.5998ZM19.4713 0.972853C18.959 0.849844 18.4332 0.850493 17.8839 0.851175L17.7607 0.85128H12.4333H12.3629C10.6258 0.851263 9.22189 0.851251 8.08445 0.944183C6.91242 1.03994 5.87875 1.24253 4.92108 1.73049C3.40324 2.50387 2.1692 3.73791 1.39582 5.25576C0.907858 6.21343 0.705263 7.2471 0.609504 8.41913C0.516572 9.55657 0.516585 10.9604 0.516602 12.6975V12.7679V25.2346V25.305C0.516585 27.0421 0.516572 28.446 0.609504 29.5834C0.705263 30.7555 0.907858 31.7891 1.39582 32.7468C2.1692 34.2646 3.40324 35.4987 4.92108 36.2721C5.87875 36.76 6.91242 36.9626 8.08445 37.0584C9.22189 37.1513 10.6258 37.1513 12.3629 37.1513H12.4333H19.3999H19.4704C21.2074 37.1513 22.6113 37.1513 23.7488 37.0584C24.9208 36.9626 25.9545 36.76 26.9121 36.2721C28.43 35.4987 29.664 34.2646 30.4374 32.7468C30.9253 31.7891 31.1279 30.7555 31.2237 29.5834C31.3166 28.446 31.3166 27.0421 31.3166 25.305V25.2346V14.4072L31.3167 14.2839C31.3174 13.7346 31.318 13.2089 31.195 12.6965C31.0872 12.2476 30.9095 11.8184 30.6682 11.4247C30.3929 10.9754 30.0207 10.6042 29.6318 10.2162L29.5446 10.1292L22.0387 2.62328L21.9517 2.53609C21.5637 2.14719 21.1925 1.77498 20.7432 1.49966C20.3495 1.25842 19.9203 1.08064 19.4713 0.972853Z" fill="#868686"/>
          </svg>
        </nuxt-link>
        <nuxt-link to='/admin/chat/0' class="link" :class="chatLinkIsActive && 'active-link'" active-class="active-link">
          <svg width="32" height="29" viewBox="0 0 32 29" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M0.552002 13.4869C0.552002 5.85262 7.68013 0 16.026 0C24.3719 0 31.5 5.85262 31.5 13.4869C31.5 21.1212 24.3719 26.9739 16.026 26.9739C14.1754 26.9739 12.3965 26.6908 10.7456 26.1692C8.79837 27.9881 5.96909 28.8624 2.50811 28.9985C1.09825 29.0539 0.0806467 27.5863 0.670985 26.2726C1.50847 24.3958 2.59055 22.2443 2.71886 20.3677C1.34846 18.3705 0.552002 16.0135 0.552002 13.4869ZM16.026 2.69767C8.76842 2.69767 3.24745 7.71387 3.24745 13.4869C3.24745 15.56 3.94104 17.5049 5.16372 19.1529C5.33626 19.3854 5.42942 19.6674 5.42942 19.957C5.42942 22.1607 4.55169 24.2399 3.65793 26.2132C6.42894 25.9186 8.24681 25.0305 9.34297 23.7395C9.71113 23.3059 10.3116 23.1502 10.8438 23.3502C12.4236 23.944 14.1761 24.2762 16.026 24.2762C23.2836 24.2762 28.8046 19.26 28.8046 13.4869C28.8046 7.71387 23.2836 2.69767 16.026 2.69767Z" fill="#868686"/>
          </svg>
        </nuxt-link>
      </nav>
      <div class="logout">
        <img src="@/assets/icons/admin/logout.svg" alt="">
      </div>
    </nav>
    <main class="admin">
      <Nuxt />
    </main>
  </div>
</template>

<script>
export default {
  computed:{
    linkIsActive() {
      return this.$route.fullPath.includes('tickets');
    },
    chatLinkIsActive() {
      return this.$route.fullPath.includes('chat');
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/assets/css/vars.scss';
.admin-layout{
  display: flex;
  min-height: 100vh;
  background: $s-purple;
  .side-bar{
    width: 100px;
    height: 100vh;
    background: $s-purple;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: 2fr 8fr 1fr;
    justify-content: center;
    padding-top: 44px;
    position: fixed;
    left: 0;
    top: 0;
    .logo{
      justify-self: center;
    }
    .logout{
      justify-self: center;
    }
    .nav-links{
      display: flex;
      flex-direction: column;
      gap: 34px;
      justify-self: center;
      .link{
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .active-link{
        svg path{
          fill: $f-blue;
        }
      }
      .active-link::before{
        content: '';
        display: block;
        width: 4px;
        height: 40px;
        background: $f-blue;
        border-radius: 4px;
        position: absolute;
        left: 0;
      }
    }
  }
  .admin{
    width: 100%;
    min-height: 100vh;
    margin-left: 100px;
    background: $s-purple;
  }
  @media (max-width: 986px) {
    .admin{
      margin-left: 0;
    }
    .side-bar{
      display: none;
    }
  }
}
</style>